<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friday Hygge</title>
    <link rel="icon" href="./figures/logo.png" type="image/x-icon">

    <!-- Link to the external CSS file -->
    <link rel="stylesheet" type="text/css" href="styles.css">

    <!-- Papaparse inlcude to parse csv files in javascript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

    <!-- charts.js inlcude to produce plots in javascript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Include the external .js file -->
    <script src="./scripts/utils.js"></script>
</head>

<body>

    <div class="header">
        <h1>Welcome to Friday Hygge</h1>
    </div>
    <div class="menu">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="#">Search</a>
    </div>

    <!-- Show some plots -->

    <div class="charts-container">
        <div class="chart-container">
            <canvas id="pieChart" class="chart-canvas"></canvas>
        </div>
    </div>
    <script>
        // Data for the pie chart
        const pieChartData = {
            labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
            datasets: [{
                data: [12, 19, 3, 5, 2, 3],
                backgroundColor: [
                    'red',
                    'blue',
                    'yellow',
                    'green',
                    'purple',
                    'orange',
                ],
            }],
        };
    
        // Get the canvas element by its id for the pie chart
        const pieCanvas = document.getElementById('pieChart');
    
        // Set the canvas width based on the parent container's width
        pieCanvas.width = pieCanvas.parentElement.clientWidth;
    
        // Create the pie chart
        const pieCtx = pieCanvas.getContext('2d');
        const pieChart = new Chart(pieCtx, {
            type: 'pie',
            data: pieChartData,
        });
    </script>
    
    
    <h1>CSV Data from URL</h1>
    <div id="csv-container"></div>

    <script>
        // URL of the CSV file
        const csvURL = 'data/inventory.tsv'; // Replace with your CSV URL

        // Function to fetch and display CSV data
        async function displayCSV() {
            try {
                // Fetch the CSV data
                const response = await fetch(csvURL);
                const data = await response.text();

                // Parse CSV data into an array
                const rows = data.split('\n');
                const table = document.createElement('table');

                rows.forEach(row => {
                    const columns = row.split('\t');
                    const tr = document.createElement('tr');

                    columns.forEach(column => {
                        const td = document.createElement('td');
                        td.textContent = column;
                        tr.appendChild(td);
                    });

                    table.appendChild(tr);
                });

                // Display the CSV data in the "csv-container" div
                const csvContainer = document.getElementById('csv-container');
                csvContainer.appendChild(table);
            } catch (error) {
                console.error('Error fetching or displaying CSV data:', error);
            }
        }

        // Call the function to display CSV data
        displayCSV();
    </script>
    
    <div class="container" id="card-container">
        <!-- Cards will be generated here using JavaScript -->
    </div>
    <script src="scripts/script.js"></script>
</body>
</html>